{
  "id": "pygraphistry_moltbook_alignment_v1",
  "description": "Legacy alignment checks against older moltbook simulations for GFQL and visualization patterns. Useful for regression alignment, not primary real-world KPI scoring.",
  "eval_intent": "alignment_legacy",
  "tags": ["pygraphistry", "skills", "alignment", "moltbook"],
  "cases": [
    {
      "id": "gfql_edge_query_filter",
      "prompt": "Provide a concise GFQL snippet that narrows a focused community/channel slice by applying an inline edge predicate on interaction type.",
      "checks": {
        "regex": [
          "gfql\\(",
          "edge_query\\s*(=\\s*f?['\\\"]|\\()",
          "(?i)type"
        ]
      }
    },
    {
      "id": "gfql_where_owner_compare",
      "prompt": "Show a short GFQL snippet that keeps only paths where start/end nodes share the same owner-like attribute through an explicit path-level equality constraint.",
      "checks": {
        "regex": [
          "where\\s*=\\s*\\[",
          "compare\\(",
          "col\\("
        ]
      }
    },
    {
      "id": "gfql_output_hop_slicing",
      "prompt": "Write a minimal GFQL snippet that traverses a wider hop range but only returns a narrower output hop range.",
      "checks": {
        "regex": [
          "gfql\\(",
          "min_hops\\s*=\\s*\\d+",
          "max_hops\\s*=\\s*\\d+",
          "output_min_hops\\s*=\\s*\\d+",
          "output_max_hops\\s*=\\s*\\d+"
        ]
      }
    },
    {
      "id": "gfql_remote_nodes_subset",
      "prompt": "Provide a concise remote GFQL example that returns only node results and minimizes transfer payload by selecting a small node column subset.",
      "checks": {
        "regex": [
          "gfql_remote\\(",
          "node_col_subset\\s*=\\s*\\["
        ]
      }
    },
    {
      "id": "viz_external_layout_play0",
      "prompt": "Provide a short PyGraphistry snippet for using precomputed node coordinates x/y and disabling automatic playback for a static external layout view.",
      "checks": {
        "regex": [
          "bind\\(",
          "['\\\"]x['\\\"]",
          "['\\\"]y['\\\"]",
          "settings\\(",
          "url_params",
          "['\\\"]play['\\\"]\\s*:\\s*0"
        ]
      }
    },
    {
      "id": "viz_icon_and_badge",
      "prompt": "Show a concise PyGraphistry styling snippet that maps entity categories to node icons and overlays a risk/severity badge channel.",
      "checks": {
        "regex": [
          "encode_point_icon\\(",
          "encode_point_badge\\("
        ]
      },
      "oracle": {
        "enabled": true,
        "min_score": 0.8,
        "reference_answer": "A strong answer includes icon and badge encodings mapped to meaningful categories/risks, not just method name mentions.",
        "rubric": [
          "Must include both icon and badge encoding in plausible PyGraphistry usage.",
          "Should show category/risk mapping intent, not only bare calls."
        ],
        "required_concepts": [
          "icon mapping",
          "badge or risk/severity mapping"
        ]
      }
    },
    {
      "id": "viz_schema_hygiene_bullets",
      "prompt": "Give exactly 3 concise bullets on schema hygiene for Graphistry visuals: singleton type columns, avoiding dotted names, and native datetime usage.",
      "checks": {
        "regex": [
          "(?i)type",
          "(?i)dot|node\\.type|edge\\.type",
          "(?i)datetime"
        ],
        "max_lines": 6
      },
      "oracle": {
        "enabled": true,
        "min_score": 0.85,
        "reference_answer": "A strong answer provides 3 concise, practical schema hygiene bullets covering type columns, avoiding dotted names, and datetime usage.",
        "rubric": [
          "Must provide exactly three concise bullets.",
          "Must clearly cover type-column guidance, dotted-name avoidance, and datetime guidance.",
          "Should be practical for Graphistry workflows."
        ],
        "required_concepts": [
          "type columns",
          "avoid dotted names",
          "native datetime"
        ]
      }
    }
  ]
}
